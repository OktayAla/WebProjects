<?php
 goto aqoYf; aqoYf: header("\x43\x6f\x6e\164\145\156\164\55\x54\x79\x70\145\72\40\x61\160\160\x6c\x69\143\141\x74\151\157\156\57\x6a\163\157\156\x3b\x20\143\x68\141\x72\x73\x65\164\75\165\164\x66\55\x38"); goto yxOdD; bRVbf: function getNobetciEczaneler() { $url = "\x68\x74\164\x70\163\72\x2f\57\167\x77\167\x2e\144\145\156\151\x7a\154\151\56\142\145\154\56\164\162\57\104\x65\x66\141\x75\x6c\x74\56\x61\163\x70\170\77\x6b\x3d\116\x6f\142\145\x74\143\151\105\143\172\x61\156\145\x6c\x65\x72"; $html = @file_get_contents($url); if ($html === FALSE) { error_log("\110\x61\x74\x61\x3a\40\x55\x52\114\x27\x64\145\x6e\40\166\x65\162\151\x20\303\xa7\145\153\x69\154\x65\155\145\x64\151\56"); return array("\x65\162\162\157\162" => "\x56\145\162\x69\x20\xc3\247\x65\153\x69\154\145\155\145\x64\151"); } $dom = new DOMDocument(); @$dom->loadHTML("\x3c\x3f\x78\x6d\154\x20\x65\156\x63\x6f\x64\x69\x6e\x67\75\x22\165\x74\x66\55\x38\x22\40\x3f\76" . $html); $xpath = new DOMXPath($dom); $eczaneler = array("\155\145\x72\x6b\145\x7a\145\146\145\156\144\x69" => array(), "\x70\141\x6d\x75\153\x6b\141\x6c\145" => array()); function parseEczane($xpath, $path) { $node = $xpath->query($path)->item(0); if (!$node) { error_log("\x48\141\164\141\x3a\40\x45\143\172\x61\156\145\40\144\303\274\xc4\237\xc3\xbc\155\xc3\274\x20\x62\x75\x6c\x75\156\x61\x6d\141\144\304\261\72\x20" . $path); return null; } $isim = trim($xpath->query("\56\x2f\x62\57\x74\x65\170\164\x28\51", $node)->item(0)->nodeValue); $adres = ''; $ilce = ''; $telefon = ''; $childNodes = $node->childNodes; foreach ($childNodes as $child) { if ($child->nodeType == XML_TEXT_NODE) { $text = trim($child->nodeValue); if (!empty($text)) { if (empty($adres)) { $adres = $text; } elseif (empty($ilce)) { $ilce = $text; } elseif (empty($telefon)) { $telefon = $text; } } } } return array("\151\x73\x69\155" => $isim, "\141\144\x72\145\163" => $adres, "\151\x6c\143\x65" => $ilce, "\164\x65\x6c\145\146\x6f\x6e" => $telefon); } for ($i = 3; $i <= 7; $i++) { $path = "\x2f\x2f\x2a\x5b\x40\x69\x64\x3d\x27\x63\x74\x6c\61\64\137\x72\151\147\x68\164\x63\157\x6e\x74\145\x6e\x74\47\x5d\57\x64\151\x76\x5b" . $i . "\x5d\57\144\x69\x76"; $eczane = parseEczane($xpath, $path); if ($eczane) { $eczaneler["\155\x65\162\153\145\172\x65\x66\x65\x6e\x64\x69"][] = $eczane; } else { error_log("\110\141\x74\x61\x3a\x20\x4d\x65\162\153\145\x7a\145\x66\x65\156\144\151\x20\145\143\172\x61\156\x65\x20\142\151\154\147\151\x73\151\40\303\247\x65\153\151\x6c\x65\x6d\x65\144\151\72\x20" . $i); } } for ($i = 8; $i <= 11; $i++) { $path = "\57\57\x2a\133\x40\x69\x64\x3d\x27\x63\164\154\61\64\x5f\162\x69\147\x68\x74\143\x6f\156\164\x65\x6e\x74\x27\x5d\57\144\151\x76\x5b" . $i . "\135\57\x64\x69\166"; $eczane = parseEczane($xpath, $path); if ($eczane) { $eczaneler["\x70\141\x6d\165\153\x6b\x61\x6c\145"][] = $eczane; } else { error_log("\x48\x61\x74\141\72\x20\120\141\x6d\165\x6b\153\x61\x6c\145\x20\145\x63\x7a\x61\156\145\40\142\151\x6c\147\x69\x73\151\40\303\xa7\145\x6b\x69\x6c\145\x6d\x65\144\x69\72\40" . $i); } } return $eczaneler; } goto Uf9mG; nK_NJ: if (isset($data["\x65\162\x72\x6f\x72"])) { http_response_code(500); echo json_encode(array("\145\x72\162\x6f\x72" => $data["\x65\x72\x72\157\162"]), JSON_UNESCAPED_UNICODE); } else { echo json_encode($data, JSON_UNESCAPED_UNICODE); } goto VCLTe; wTQ8R: error_reporting(E_ALL); goto tSO6C; yxOdD: header("\101\x63\143\145\x73\x73\x2d\x43\x6f\x6e\164\x72\x6f\x6c\x2d\101\x6c\x6c\157\x77\x2d\117\162\x69\147\151\156\x3a\x20\x2a"); goto wTQ8R; Uf9mG: $data = getNobetciEczaneler(); goto nK_NJ; tSO6C: ini_set("\x64\151\163\x70\154\x61\171\137\x65\x72\x72\x6f\x72\x73", 1); goto bRVbf; VCLTe: ?>