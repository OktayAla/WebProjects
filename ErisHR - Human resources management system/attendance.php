<?php
 goto BCKc3; n68iY: $userAttendanceRecords = array(); goto NQSob; bGKl5: if ($userRole == "\141\x64\x6d\x69\156") { ?>
<li><a href="employee_management.php"><i class="fas fa-user-cog"></i> Personel Yönetimi</a></li><li><a href="department_management.php"><i class="fas fa-building"></i> Departman Yönetimi</a></li><li><a href="card_management.php"><i class="fas fa-id-card"></i> Kart Yönetimi</a></li><li><a href="reports.php"><i class="fas fa-chart-bar"></i> Raporlar</a></li><?php  } goto HHOcg; X2w7c: ?>
</h4><p><?php  goto p4hMh; qYMI1: if (empty($userAttendanceRecords)) { ?>
<tr><td class="text-center"colspan="5">Kişisel giriş/çıkış kaydı bulunmamaktadır.</td></tr><?php  } goto q_ECf; Sf3Xz: ?>
<!doctypehtml><html lang="tr"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1"name="viewport"><title>HRMS - Giriş/Çıkış Kayıtları</title><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"rel="stylesheet"><link href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"rel="stylesheet"><link href="css/style.css"rel="stylesheet"></head><body><div class="app-container"><aside class="sidebar"><div class="sidebar-header"><img alt="HRMS Logo"src="img/logo.png"class="logo"><h3>HRMS</h3></div><div class="user-info"><div class="user-avatar"><img alt="User Avatar"src="img/avatars/default.png"></div><div class="user-details"><h4><?php  goto owPPh; bNfcH: if ($userRole === "\155\x61\x6e\141\x67\x65\162" || $userRole === "\141\x64\155\x69\x6e") { $allEmployees = array(); $employeesFile = "\144\x61\164\141\57\145\155\160\154\157\x79\x65\145\x73\x2e\x6a\163\157\156"; if (file_exists($employeesFile)) { $allEmployees = json_decode(file_get_contents($employeesFile), true); } $employeeMap = array(); foreach ($allEmployees as $emp) { $employeeMap[$emp["\151\144"]] = $emp; } $teamRecordsProcessed = array(); $tempTeamAttendance = array(); if (file_exists($attendanceFile)) { $allRecords = json_decode(file_get_contents($attendanceFile), true); foreach ($allRecords as $record) { $employeeId = $record["\x65\x6d\160\x6c\x6f\x79\145\145\x5f\x69\144"]; $employeeData = $employeeMap[$employeeId] ?? null; if ($employeeData) { $employeeDepartment = $employeeData["\x64\145\160\141\162\x74\x6d\145\156\164"]; $shouldInclude = false; if ($userRole === "\141\144\155\x69\156") { $shouldInclude = true; } elseif ($userRole === "\x6d\x61\x6e\141\147\145\x72" && $employeeDepartment === $userDepartment) { $shouldInclude = true; } if ($shouldInclude) { $date = $record["\144\x61\x74\145"]; $key = $employeeId . "\x5f" . $date; if (!isset($tempTeamAttendance[$key])) { $tempTeamAttendance[$key] = array("\145\x6d\160\154\x6f\x79\x65\x65\x5f\x69\144" => $employeeId, "\145\155\160\154\x6f\x79\145\145\137\156\x61\155\145" => $record["\145\155\160\x6c\x6f\171\145\145\x5f\x6e\x61\x6d\x65"], "\144\x61\164\x65" => $date, "\x65\x6e\x74\162\171" => null, "\x65\x78\151\x74" => null, "\x74\x69\155\145\x73\164\x61\x6d\160" => $record["\x74\x69\x6d\145\163\164\141\x6d\x70"]); } if ($record["\x74\x79\160\145"] === "\145\156\x74\162\x79" && (!isset($tempTeamAttendance[$key]["\x65\x6e\164\x72\171"]) || strtotime($record["\164\151\x6d\145"]) < strtotime($tempTeamAttendance[$key]["\x65\x6e\x74\162\x79"]))) { $tempTeamAttendance[$key]["\x65\156\x74\162\171"] = $record["\x74\x69\x6d\145"]; } elseif ($record["\164\x79\x70\x65"] === "\x65\170\x69\164" && (!isset($tempTeamAttendance[$key]["\145\170\151\164"]) || strtotime($record["\x74\151\155\x65"]) > strtotime($tempTeamAttendance[$key]["\x65\170\151\164"]))) { $tempTeamAttendance[$key]["\x65\170\x69\164"] = $record["\x74\x69\x6d\x65"]; } if (strtotime($record["\x74\x69\155\x65\163\x74\x61\155\160"]) > strtotime($tempTeamAttendance[$key]["\x74\x69\155\145\x73\x74\x61\x6d\x70"])) { $tempTeamAttendance[$key]["\164\151\x6d\x65\163\x74\141\x6d\x70"] = $record["\x74\151\x6d\145\x73\164\x61\155\160"]; } } } } } $teamAttendanceRecords = array_values($tempTeamAttendance); usort($teamAttendanceRecords, function ($a, $b) { $dateComparison = strtotime($b["\144\x61\164\145"]) - strtotime($a["\144\141\x74\145"]); if ($dateComparison !== 0) { return $dateComparison; } return strcmp($a["\x65\155\x70\154\157\x79\x65\x65\x5f\x6e\x61\x6d\x65"], $b["\x65\x6d\160\154\x6f\x79\145\x65\137\x6e\141\x6d\x65"]); }); } goto Sf3Xz; WuPH8: if ($userRole === "\x6d\x61\x6e\x61\x67\x65\x72" || $userRole === "\141\x64\x6d\151\x6e") { ?>
<ul class="mb-4 nav nav-tabs"id="attendanceTabs"role="tablist"><li class="nav-item"role="presentation"><button class="active nav-link"type="button"id="personal-tab"aria-controls="personal"aria-selected="true"data-bs-target="#personal"data-bs-toggle="tab"role="tab"><i class="fas fa-user"></i> Kişisel Giriş/Çıkış Kayıtları</button></li><li class="nav-item"role="presentation"><button class="nav-link"type="button"id="team-tab"aria-controls="team"aria-selected="false"data-bs-target="#team"data-bs-toggle="tab"role="tab"><i class="fas fa-users"></i> Ekip Giriş/Çıkış Kayıtları</button></li></ul><div class="tab-content"id="attendanceTabsContent"><div class="fade show active tab-pane"role="tabpanel"aria-labelledby="personal-tab"id="personal"><?php  } goto pl3Kl; JnbZt: $scanSuccess = false; goto LeCEB; p4hMh: if ($userRole == "\141\144\x6d\151\156") { echo "\304\xb0\x4b\40\131\303\266\x6e\145\x74\x69\143\x69\x73\151"; } else { if ($userRole == "\x6d\141\156\x61\147\145\x72") { echo "\x42\x69\162\151\x6d\x20\x4d\xc3\xbc\x64\xc3\274\x72\303\xbc"; } else { echo "\120\x65\162\163\157\x6e\145\154"; } } goto rDbzV; XT3Yc: if ($_SERVER["\x52\105\x51\x55\105\123\x54\x5f\115\105\x54\x48\x4f\x44"] == "\x50\x4f\123\124" && isset($_POST["\x61\x63\164\151\157\156"]) && $_POST["\141\143\x74\151\157\x6e"] === "\x73\x63\141\x6e\x5f\x63\x61\x72\x64") { $cardId = $_POST["\x63\x61\x72\x64\137\151\144"]; $cardsFile = "\x64\x61\x74\x61\57\143\x61\x72\x64\x73\56\x6a\163\x6f\156"; $cards = array(); if (file_exists($cardsFile)) { $cards = json_decode(file_get_contents($cardsFile), true); } $cardFound = false; $employeeId = null; foreach ($cards as $card) { if ($card["\143\141\162\x64\x5f\151\x64"] === $cardId) { $cardFound = true; if (!empty($card["\145\155\160\154\157\171\x65\x65\x5f\151\144"])) { $employeeId = $card["\x65\155\x70\x6c\x6f\x79\x65\145\137\x69\144"]; } break; } } if (!$cardFound) { $scanMessage = "\x4b\141\162\x74\40\x62\x75\154\165\x6e\141\x6d\x61\x64\304\261\56\x20\x4c\303\xbc\x74\x66\x65\156\x20\x67\x65\303\247\145\x72\154\151\40\142\151\162\x20\153\x61\x72\x74\40\111\x44\40\147\151\162\151\156\56"; } elseif (empty($employeeId)) { $scanMessage = "\102\x75\40\x6b\141\x72\x74\x20\150\x65\156\xc3\274\172\40\x62\151\x72\40\160\x65\162\x73\157\x6e\145\x6c\145\x20\x61\x74\141\x6e\x6d\141\x6d\304\261\305\237\56"; } else { $employeesFile = "\x64\141\164\x61\x2f\x65\155\x70\154\x6f\x79\145\145\x73\56\x6a\163\157\156"; $employees = array(); $employeeName = "\x42\151\154\x69\x6e\x6d\x65\x79\145\x6e\40\x50\x65\x72\x73\x6f\x6e\x65\x6c"; if (file_exists($employeesFile)) { $employees = json_decode(file_get_contents($employeesFile), true); foreach ($employees as $employee) { if ($employee["\x69\x64"] == $employeeId) { $employeeName = $employee["\x6e\141\x6d\x65"]; break; } } } $now = new DateTime(); $date = $now->format("\131\x2d\x6d\55\x64"); $time = $now->format("\110\x3a\151\x3a\163"); $attendanceFile = "\144\141\x74\x61\x2f\141\x74\164\x65\156\x64\141\156\x63\x65\56\x6a\163\x6f\x6e"; $attendance = array(); if (file_exists($attendanceFile)) { $attendance = json_decode(file_get_contents($attendanceFile), true); } $hasEntry = false; $hasExit = false; foreach ($attendance as $record) { if ($record["\x65\155\160\154\x6f\171\x65\x65\137\151\x64"] == $employeeId && $record["\144\x61\x74\145"] === $date) { if ($record["\x74\x79\160\145"] === "\x65\x6e\x74\x72\x79") { $hasEntry = true; } elseif ($record["\x74\x79\160\x65"] === "\145\170\151\x74") { $hasExit = true; } } } $recordType = "\x65\156\x74\x72\x79"; if ($hasEntry && !$hasExit) { $recordType = "\145\x78\151\x74"; } elseif ($hasEntry && $hasExit) { $hour = (int) $now->format("\x48"); if ($hour < 13) { $recordType = "\145\156\x74\162\171"; } else { $recordType = "\x65\x78\x69\164"; } } $newRecord = array("\151\x64" => uniqid(), "\x65\x6d\160\x6c\157\x79\x65\x65\x5f\x69\x64" => $employeeId, "\145\155\x70\x6c\x6f\171\x65\x65\x5f\156\141\x6d\x65" => $employeeName, "\x63\x61\x72\144\x5f\x69\x64" => $cardId, "\144\x61\164\145" => $date, "\x74\x69\155\145" => $time, "\x74\x79\x70\145" => $recordType, "\x74\151\155\145\x73\x74\x61\155\160" => $now->format("\x59\55\x6d\55\x64\40\x48\x3a\151\72\163")); $attendance[] = $newRecord; file_put_contents($attendanceFile, json_encode($attendance, JSON_PRETTY_PRINT)); $scanSuccess = true; $scanMessage = "{$employeeName}\40\x69\xc3\247\151\156\x20{$recordType}\x20\153\141\171\144\304\261\x20\157\x6c\165\305\x9f\x74\x75\x72\x75\x6c\x64\165\x2e\x20\123\141\141\164\x3a\40{$time}"; $employeeAttendanceDir = "\x6a\163\x2f\165\x73\x65\x72\x73"; if (!file_exists($employeeAttendanceDir)) { mkdir($employeeAttendanceDir, 511, true); } $employeeAttendanceFile = "{$employeeAttendanceDir}\x2f{$employeeId}\56\x6a\x73"; $employeeRecords = array(); foreach ($attendance as $record) { if ($record["\x65\155\x70\x6c\157\171\x65\145\x5f\x69\x64"] == $employeeId) { $employeeRecords[] = $record; } } $jsContent = json_encode($employeeRecords, JSON_PRETTY_PRINT); file_put_contents($employeeAttendanceFile, $jsContent); } } goto GmGh9; HHOcg: ?>
</ul></nav><div class="sidebar-footer"><a href="profile.php"><i class="fas fa-user-circle"></i> Profil</a> <a href="logout.php"><i class="fas fa-sign-out-alt"></i> Çıkış</a></div></aside><main class="main-content"><header class="header"><div class="header-left"><button class="sidebar-toggle"id="sidebar-toggle"><i class="fas fa-bars"></i></button><h2>Giriş/Çıkış Kayıtları</h2></div><div class="header-right"><div class="notification"><i class="fas fa-bell"></i> <span class="badge">3</span></div><div class="date-time"><span id="current-date"></span> <span id="current-time"></span></div></div></header><div class="content-wrapper"><div class="container-fluid"><?php  goto r39iS; owPPh: echo $userName; goto X2w7c; GmGh9: $attendanceFile = "\144\x61\164\141\x2f\141\x74\164\x65\x6e\144\x61\x6e\x63\145\56\152\x73\157\156"; goto IPOUd; xkOQe: $userRole = $_SESSION["\162\157\x6c\x65"]; goto fB_D2; r39iS: if (!empty($scanMessage) && !$scanSuccess) { ?>
<div class="fade show alert alert-dismissible alert-danger"role="alert"><?php  echo $scanMessage; ?>
<button class="btn-close"type="button"aria-label="Close"data-bs-dismiss="alert"></button></div><?php  } elseif (!empty($scanMessage) && $scanSuccess) { ?>
<div class="fade show alert alert-dismissible alert-success"role="alert"><?php  echo $scanMessage; ?>
<button class="btn-close"type="button"aria-label="Close"data-bs-dismiss="alert"></button></div><?php  } goto WuPH8; wMbF5: if ($userRole == "\x6d\x61\x6e\x61\147\145\x72" || $userRole == "\141\144\x6d\151\x6e") { ?>
<li><a href="team_management.php"><i class="fas fa-users"></i> Ekip Yönetimi</a></li><li><a href="approval_requests.php"><i class="fas fa-tasks"></i> Onay Bekleyen Talepler</a></li><?php  } goto bGKl5; zEhB6: $teamAttendanceRecords = array(); goto bNfcH; pl3Kl: ?>
<div class="card mb-4"><div class="card-header"><h5 class="mb-0">PDKS Kart Okutma Simülasyonu</h5></div><div class="card-body"><form action=""class="g-3 row"method="post"><input name="action"type="hidden"value="scan_card"><div class="col-md-6"><label class="form-label"for="card_id">Kart ID</label> <input class="form-control"id="card_id"name="card_id"required></div><div class="d-flex align-items-end col-md-6"><button class="btn btn-primary"type="submit"><i class="fas fa-id-card"></i> Kart Okut</button></div></form></div></div><div class="card"><div class="card-header align-items-center d-flex justify-content-between"><h5 class="mb-0"><?php  goto JjJNF; JjJNF: echo $userRole === "\155\x61\156\141\x67\145\162" || $userRole === "\x61\x64\x6d\151\156" ? "\x4b\151\xc5\x9f\151\163\x65\x6c\x20\x4b\141\x79\304\xb1\x74\x6c\x61\162" : "\107\x69\x72\x69\305\x9f\x2f\xc3\207\xc4\xb1\x6b\xc4\xb1\305\x9f\x20\113\141\171\xc4\261\164\154\141\162\xc4\xb1"; goto WsAdT; HfE04: foreach ($userAttendanceRecords as $date => $record) { ?>
<tr data-date="<?php  echo $date; ?>
"><td><?php  echo date("\x64\x2e\x6d\x2e\x59", strtotime($date)); ?>
</td><td><?php  if (isset($record["\145\156\164\x72\171"])) { echo date("\110\72\151", strtotime($record["\x65\x6e\164\162\171"])); $entryTime = strtotime($record["\x65\156\164\162\x79"]); $startTime = strtotime("\60\x39\72\x30\60\72\60\60"); if ($entryTime > $startTime) { echo "\x20\x3c\163\160\x61\156\x20\143\154\x61\x73\163\75\x22\x62\141\x64\x67\145\x20\142\147\x2d\167\x61\162\x6e\151\156\x67\x20\x74\145\x78\164\55\144\x61\x72\x6b\x22\x3e\107\145\xc3\xa7\x20\107\x69\162\x69\xc5\237\x3c\57\x73\x70\141\x6e\x3e"; } } else { echo "\x2d"; } ?>
</td><td><?php  if (isset($record["\x65\x78\151\164"])) { echo date("\x48\x3a\151", strtotime($record["\145\170\151\164"])); $exitTime = strtotime($record["\x65\x78\151\164"]); $endTime = strtotime("\61\x38\72\x30\x30\72\60\60"); if ($exitTime < $endTime) { echo "\x20\74\163\x70\x61\x6e\40\x63\154\141\x73\163\75\42\142\141\144\147\145\40\x62\147\55\151\156\146\x6f\40\164\145\x78\164\55\x64\141\162\153\x22\76\105\x72\153\x65\x6e\x20\303\207\304\261\153\304\261\xc5\237\x3c\x2f\163\x70\141\156\x3e"; } } else { echo "\x2d"; } ?>
</td><td><?php  if (isset($record["\145\156\x74\x72\x79"]) && isset($record["\x65\170\151\164"])) { $entry = new DateTime($record["\x65\156\164\162\x79"]); $exit = new DateTime($record["\145\170\151\164"]); $interval = $entry->diff($exit); echo $interval->format("\x25\110\x20\x73\x61\40\45\111\40\144\153"); } else { echo "\55"; } ?>
</td><td><?php  if (!isset($record["\x65\156\164\x72\171"]) && !isset($record["\145\x78\x69\x74"])) { echo "\74\x73\160\141\x6e\40\x63\154\x61\x73\163\x3d\42\x62\x61\144\x67\x65\40\142\x67\x2d\x64\141\156\147\x65\x72\x22\x3e\107\x69\x72\151\xc5\x9f\57\xc3\x87\xc4\261\153\xc4\xb1\305\x9f\x20\x59\x6f\153\x3c\x2f\x73\x70\141\156\x3e"; } elseif (isset($record["\x65\x6e\164\x72\x79"]) && isset($record["\145\170\151\164"])) { echo "\x3c\163\x70\141\x6e\40\x63\154\141\x73\163\x3d\x22\x62\x61\144\x67\145\x20\142\147\x2d\x73\165\x63\143\x65\x73\163\x22\76\124\141\x6d\x61\155\x6c\x61\156\x64\304\261\74\57\x73\160\141\x6e\76"; } elseif (isset($record["\145\x6e\x74\x72\171"])) { echo "\74\x73\x70\141\156\40\143\x6c\x61\x73\x73\x3d\x22\142\141\144\x67\x65\40\142\147\55\160\162\x69\x6d\x61\x72\x79\42\76\107\151\162\151\xc5\237\40\x59\141\x70\304\261\154\x64\xc4\xb1\74\x2f\163\x70\x61\x6e\76"; } elseif (isset($record["\145\170\x69\164"])) { echo "\74\163\x70\141\x6e\x20\143\154\141\163\163\75\x22\x62\141\x64\x67\x65\x20\142\147\55\163\145\x63\157\x6e\x64\x61\x72\171\42\76\x53\x61\x64\x65\x63\x65\x20\303\x87\304\xb1\153\xc4\261\305\x9f\x3c\57\163\160\x61\x6e\76"; } ?>
</td></tr><?php  } goto qYMI1; CuiVD: $userId = $_SESSION["\165\x73\x65\x72\137\x69\x64"]; goto WWt2x; q_ECf: ?>
</tbody></table></div></div></div><?php  goto nKEKR; IPOUd: $attendanceRecords = array(); goto n68iY; BCKc3: session_start(); goto lMDS2; A8C4_: uksort($userAttendanceRecords, function ($a, $b) { return strtotime($b) - strtotime($a); }); goto HfE04; NQSob: if (file_exists($attendanceFile)) { $allRecords = json_decode(file_get_contents($attendanceFile), true); if ($userRole === "\141\144\155\x69\x6e") { $attendanceRecords = $allRecords; } elseif ($userRole === "\155\x61\156\x61\147\x65\x72") { foreach ($allRecords as $record) { $employeesFile = "\x64\x61\x74\141\57\145\155\160\154\157\x79\145\145\x73\56\x6a\x73\157\156"; if (file_exists($employeesFile)) { $employees = json_decode(file_get_contents($employeesFile), true); foreach ($employees as $employee) { if ($employee["\x69\144"] == $record["\145\155\160\154\x6f\x79\145\145\x5f\x69\144"] && $employee["\144\145\x70\141\x72\x74\155\x65\156\164"] === $userDepartment) { $attendanceRecords[] = $record; break; } } } } } else { foreach ($allRecords as $record) { if ($record["\145\155\160\x6c\x6f\x79\x65\x65\x5f\x69\144"] == $userId) { $attendanceRecords[] = $record; } } } usort($attendanceRecords, function ($a, $b) { return strtotime($b["\x74\151\155\x65\x73\x74\x61\155\x70"]) - strtotime($a["\x74\151\155\145\x73\164\141\x6d\160"]); }); foreach ($attendanceRecords as $record) { if ($record["\145\x6d\x70\154\x6f\x79\145\x65\137\151\144"] == $userId) { $date = $record["\x64\141\x74\x65"]; if ($record["\x74\171\160\x65"] === "\145\156\164\162\171") { if (!isset($userAttendanceRecords[$date])) { $userAttendanceRecords[$date] = array(); } $userAttendanceRecords[$date]["\x65\156\164\162\x79"] = $record["\x74\x69\155\145"]; } elseif ($record["\164\x79\160\x65"] === "\145\170\151\x74") { if (!isset($userAttendanceRecords[$date])) { $userAttendanceRecords[$date] = array(); } $userAttendanceRecords[$date]["\145\x78\x69\x74"] = $record["\x74\151\x6d\x65"]; } } } } goto zEhB6; WsAdT: ?>
</h5><div><input class="d-inline-block w-auto form-control form-control-sm"id="personalDateFilter"placeholder="Tarihe Göre Filtrele"> <button class="btn btn-outline-secondary btn-sm"type="button"id="clearPersonalFilter">Filtreyi Temizle</button></div></div><div class="card-body"><div class="table-responsive"><table class="table table-hover"id="attendanceTable"><thead><tr><th>Tarih</th><th>Giriş Saati</th><th>Çıkış Saati</th><th>Toplam Süre</th><th>Durum</th></tr></thead><tbody><?php  goto A8C4_; fB_D2: $userDepartment = $_SESSION["\144\x65\x70\x61\x72\x74\155\145\156\164"]; goto JnbZt; rDbzV: ?>
</p></div></div><nav class="sidebar-nav"><ul><li><a href="index.php"><i class="fas fa-home"></i> Ana Sayfa</a></li><li><a href="attendance.php"class="active"><i class="fas fa-clock"></i> Giriş/Çıkış Kayıtları</a></li><li><a href="leave_requests.php"><i class="fas fa-calendar-alt"></i> İzin Talepleri</a></li><li><a href="advance_requests.php"><i class="fas fa-money-bill-wave"></i> Avans Talepleri</a></li><?php  goto wMbF5; lMDS2: if (!isset($_SESSION["\165\x73\145\x72\x5f\x69\144"])) { header("\x4c\157\x63\x61\164\x69\157\x6e\x3a\40\154\157\147\x69\156\x2e\160\150\x70"); die; } goto CuiVD; LeCEB: $scanMessage = ''; goto XT3Yc; WWt2x: $userName = $_SESSION["\x6e\141\x6d\x65"]; goto xkOQe; nKEKR: if ($userRole === "\x6d\141\156\x61\147\145\162" || $userRole === "\x61\144\x6d\151\156") { ?>
</div><div class="fade tab-pane"role="tabpanel"aria-labelledby="team-tab"id="team"><div class="card"><div class="card-header align-items-center d-flex justify-content-between"><h5 class="mb-0">Ekip Giriş/Çıkış Kayıtları</h5><div><input class="d-inline-block w-auto form-control form-control-sm"id="teamDateFilter"placeholder="Tarihe Göre Filtrele"> <select class="d-inline-block w-auto form-select form-select-sm"id="teamEmployeeFilter"><option value="">Tüm Personeller</option><?php  $displayedEmployees = array(); foreach ($teamAttendanceRecords as $rec) { if (!in_array($rec["\x65\155\160\x6c\x6f\x79\145\x65\137\151\x64"], $displayedEmployees)) { echo "\x3c\x6f\x70\164\151\x6f\x6e\40\166\141\x6c\x75\x65\x3d\x22" . $rec["\x65\155\x70\154\x6f\x79\145\x65\137\151\x64"] . "\x22\x3e" . $rec["\x65\155\x70\x6c\x6f\x79\x65\x65\x5f\156\x61\x6d\x65"] . "\74\x2f\x6f\160\164\151\157\x6e\76"; $displayedEmployees[] = $rec["\145\x6d\160\x6c\x6f\x79\145\145\x5f\151\144"]; } } ?>
</select> <button class="btn btn-outline-secondary btn-sm"type="button"id="clearTeamFilter">Filtreyi Temizle</button></div></div><div class="card-body"><div class="table-responsive"><table class="table table-hover"id="teamAttendanceTable"><thead><tr><th>Personel</th><th>Tarih</th><th>Giriş Saati</th><th>Çıkış Saati</th><th>Toplam Süre</th><th>Durum</th></tr></thead><tbody><?php  foreach ($teamAttendanceRecords as $record) { ?>
<tr data-date="<?php  echo $record["\x64\x61\164\145"]; ?>
"data-employee="<?php  echo $record["\x65\155\x70\x6c\x6f\x79\x65\x65\137\151\x64"]; ?>
"><td><?php  echo $record["\145\155\x70\x6c\157\x79\x65\145\137\x6e\141\x6d\x65"]; ?>
</td><td><?php  echo date("\x64\56\155\x2e\131", strtotime($record["\144\141\164\x65"])); ?>
</td><td><?php  if (isset($record["\145\x6e\x74\x72\x79"])) { echo date("\x48\x3a\x69", strtotime($record["\x65\156\164\x72\x79"])); $entryTime = strtotime($record["\x65\156\x74\x72\171"]); $startTime = strtotime("\60\x39\72\x30\60\72\60\x30"); if ($entryTime > $startTime) { echo "\40\74\x73\160\x61\156\x20\143\x6c\141\163\x73\x3d\x22\x62\141\x64\147\145\40\142\147\x2d\x77\141\162\x6e\151\x6e\147\40\164\145\x78\164\x2d\144\141\x72\153\42\76\x47\145\xc3\247\x20\x47\151\x72\x69\xc5\237\x3c\x2f\163\160\x61\156\76"; } } else { echo "\55"; } ?>
</td><td><?php  if (isset($record["\145\x78\151\x74"])) { echo date("\x48\72\151", strtotime($record["\145\x78\151\x74"])); $exitTime = strtotime($record["\x65\x78\x69\164"]); $endTime = strtotime("\61\x38\x3a\60\60\72\60\x30"); if ($exitTime < $endTime) { echo "\40\x3c\x73\160\141\x6e\40\x63\154\x61\x73\163\75\42\142\x61\x64\147\x65\40\x62\x67\x2d\151\x6e\x66\x6f\40\x74\145\170\164\55\x64\141\162\153\x22\76\x45\162\153\145\x6e\x20\303\x87\304\xb1\x6b\304\xb1\xc5\x9f\x3c\x2f\163\160\141\x6e\76"; } } else { echo "\55"; } ?>
</td><td><?php  if (isset($record["\x65\156\x74\162\x79"]) && isset($record["\145\x78\x69\x74"])) { $entry = new DateTime($record["\x65\x6e\164\162\x79"]); $exit = new DateTime($record["\145\170\x69\164"]); $interval = $entry->diff($exit); echo $interval->format("\45\x48\40\163\x61\40\x25\111\x20\144\x6b"); } else { echo "\55"; } ?>
</td><td><?php  if (!isset($record["\x65\156\x74\162\x79"]) && !isset($record["\x65\x78\151\x74"])) { echo "\74\x73\160\141\156\40\143\x6c\x61\x73\163\x3d\42\142\141\144\147\145\40\142\147\55\144\141\x6e\x67\145\162\42\76\107\x69\x72\151\xc5\x9f\x2f\303\x87\304\261\153\xc4\xb1\xc5\x9f\40\x59\157\153\x3c\x2f\163\x70\x61\x6e\x3e"; } elseif (isset($record["\145\156\164\x72\x79"]) && isset($record["\145\170\x69\x74"])) { echo "\74\163\160\x61\x6e\40\143\x6c\x61\163\x73\x3d\42\x62\x61\x64\147\145\40\142\x67\x2d\x73\x75\143\143\145\x73\163\x22\x3e\x54\x61\x6d\141\x6d\x6c\141\156\x64\xc4\261\74\57\x73\x70\141\156\x3e"; } elseif (isset($record["\x65\x6e\164\162\171"])) { echo "\74\x73\160\x61\x6e\40\x63\154\141\x73\x73\75\x22\142\141\144\147\145\x20\142\x67\x2d\x70\x72\151\x6d\141\162\171\x22\x3e\107\151\162\151\305\237\40\x59\x61\x70\xc4\261\154\x64\304\xb1\x3c\57\x73\160\x61\156\76"; } elseif (isset($record["\x65\170\151\164"])) { echo "\74\163\160\x61\x6e\x20\143\154\x61\163\163\75\42\142\x61\144\x67\145\x20\142\147\55\x73\x65\143\x6f\x6e\144\x61\162\171\x22\76\x53\141\x64\x65\143\145\40\303\207\304\261\153\304\xb1\305\x9f\x3c\x2f\163\x70\141\156\76"; } ?>
</td></tr><?php  } if (empty($teamAttendanceRecords)) { ?>
<tr><td class="text-center"colspan="6">Ekip giriş/çıkış kaydı bulunmamaktadır.</td></tr><?php  } ?>
</tbody></table></div></div></div></div></div><?php  } goto jhpJp; jhpJp: ?>
</div></div></main></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script src="https://code.jquery.com/jquery-3.6.0.min.js"></script><script src="https://cdn.jsdelivr.net/npm/flatpickr"></script><script src="https://npmcdn.com/flatpickr/dist/l10n/tr.js"></script><link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"rel="stylesheet"><script src="js/main.js"></script><script src="js/attendance.js"></script></body></html>